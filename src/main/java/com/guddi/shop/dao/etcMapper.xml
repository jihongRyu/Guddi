<?xml version="1.0" encoding="UTF-8"?>

<!DOCTYPE mapper PUBLIC	"-//mybatis.org//DTD Mapper 3.0//EN"
	"http://mybatis.org/dtd/mybatis-3-mapper.dtd"
>


<mapper namespace="com.guddi.shop.dao.EtcDao">

	<!-- 신상여부 카테고리 관련  유지홍 2022.01.17 Start -->
	<select id="getNewFlgInfo" resultType="com.guddi.shop.dto.EtcDto">
		select idx, use_flg, regdate, newname from newflg;
	</select>
	
	<select id="getUseFlgInfo" resultType="com.guddi.shop.dto.EtcDto">
		select idx, regdate, useFlg_name from useFlg;
	</select>
	
	
	<select id="getNewFlgIdx" resultType="int">
		select idx from newFlg
		order by idx desc limit 1;
	</select>
	
	<insert id="doRegistNewFlg">
		insert into newflg (idx, newname, use_flg) values (#{param1},#{param2},1)
	</insert>
	
	<update id="doUpateUseFlg">
		update newflg set use_flg=#{param1} where idx = #{param2}
	</update>

	<!-- 신상여부 카테고리 관련  유지홍 2022.01.17 End -->

	<!-- 브랜드 카테고리 관리 김도연 start 2022.01.17 -->
	<select id="getBrand" resultType="com.guddi.shop.dto.EtcDto">
		SELECT brand_idx, use_flg, regdate, brand_name, brand_code FROM brand
	</select>
	
	<select id="getBrandIdx" resultType="int">
		SELECT brand_idx FROM brand order by brand_idx desc limit 1
	</select>

	<insert id="doRegistBrand">
		INSERT INTO brand (brand_idx,use_flg,brand_name,brand_code)
			VALUES (#{param1}, 1,#{param2}, #{param3})
	</insert>
	
	<update id="doUpdateBrandUse">
		UPDATE brand SET use_flg=#{param1} where brand_idx =#{param2}
	</update>


</mapper>