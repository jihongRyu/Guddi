<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC	"-//mybatis.org//DTD Mapper 3.0//EN"
	"http://mybatis.org/dtd/mybatis-3-mapper.dtd"
>

<mapper namespace="com.guddi.shop.dao.ProductDao">

	<select id="productPageList" resultType="com.guddi.shop.dto.ProductDto">	
		select p.idx , p.brand_name , p.bag_type , p.price , pp.newFileName, p.product_name
		from product p inner join product_photo pp 
		on p.idx = pp.b_idx
		where  pp.photo_num=1	and p.brand_idx = #{param1}
	</select>
	
	<select id="bagTypeList" resultType="com.guddi.shop.dto.EtcDto">
		select type_idx, use_flg, type_name, type_code
		from bagtype
	</select>
	
	<select id="productSearch" resultType="com.guddi.shop.dto.ProductDto">
		select p.idx , p.brand_name , p.bag_type , p.price , pp.newFileName, p.product_name
		from product p inner join product_photo pp 
		on p.idx = pp.b_idx
		where  pp.photo_num=1   and p.bag_type = #{param1} and p.product_name LIKE concat('%', #{param2}, '%')
	</select>
</mapper>






















































